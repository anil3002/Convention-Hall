@import "tailwindcss";

/* CSS variables for theme */
:root {
  --bg: 248 50% 99%;
  --fg: 222 47% 11%;
}

html {
  color-scheme: light;
}

body {
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji",
    "Segoe UI Emoji";
}

@layer utilities {
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400;
  }
  /* iOS safe-area helpers */
  .pt-safe {
    padding-top: constant(safe-area-inset-top);
    padding-top: env(safe-area-inset-top);
  }
  .pb-safe {
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
  }
  .px-safe {
    padding-left: constant(safe-area-inset-left);
    padding-left: env(safe-area-inset-left);
    padding-right: constant(safe-area-inset-right);
    padding-right: env(safe-area-inset-right);
  }
  .font-brand {
    font-family: 'Cinzel Decorative', 'Cormorant Garamond', 'Playfair Display', 'Cinzel', ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  }
  .brand-title {
    letter-spacing: .08em;
    font-variant-ligatures: common-ligatures discretionary-ligatures;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }
  /* Splash stage/curtain effects */
  .splash-fade { animation: splash-in 700ms ease-out both; }
  .curtain { position: absolute; top: 0; bottom: 0; width: 50%; background: rgba(15,23,42,0.95); transition: transform 900ms ease-in-out; }
  .curtain.left { left: 0; transform: translateX(0); }
  .curtain.right { right: 0; transform: translateX(0); }
  .curtain.open.left { transform: translateX(-100%); }
  .curtain.open.right { transform: translateX(100%); }
  .splash-backdrop {
    background: radial-gradient(60% 50% at 50% 35%, rgba(255,255,255,0.08), transparent 60%),
      linear-gradient(180deg, #0f172a, #1e293b);
  }
  .curtain-fade {
    position: absolute;
    top: 0; bottom: 0; width: 50%;
    background: linear-gradient(90deg, rgba(15,23,42,0.95), rgba(15,23,42,0.7) 60%, transparent 100%);
    animation: curtain-fade 2800ms ease-out forwards;
    pointer-events: none;
  }
  .curtain-fade.left { left: 0; }
  .curtain-fade.right { right: 0; transform: scaleX(-1); transform-origin: center; }
  .curtain-fade-top {
    position: absolute; left: 0; right: 0; top: 0; height: 100px;
    background: linear-gradient(180deg, rgba(15,23,42,0.95), rgba(15,23,42,0.6) 70%, transparent 100%);
    animation: curtain-fade 2400ms ease-out forwards;
    pointer-events: none;
  }
  .dot {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 9999px;
    background-color: rgba(255,255,255,0.9);
    animation: dot-pulse 1.2s ease-in-out infinite;
    display: inline-block;
  }
  .animation-delay-200 { animation-delay: 0.2s; }
  .animation-delay-400 { animation-delay: 0.4s; }

  /* Gold curtain panels made with gradients */
  .curtain-panel {
    position: absolute;
    inset-block: 0;
    width: 50%;
    background-image:
      linear-gradient(90deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0.05) 18%, rgba(0,0,0,0.25) 40%, rgba(255,255,255,0.08) 70%, rgba(255,255,255,0.3) 100%),
      repeating-linear-gradient(90deg, rgba(0,0,0,0.15) 0 6px, rgba(255,255,255,0.15) 6px 12px),
      linear-gradient(180deg, #e6c766 0%, #d4b24a 40%, #b48a22 70%, #8f6b19 100%);
    background-blend-mode: overlay, multiply, normal;
    box-shadow: inset 0 0 60px rgba(0,0,0,0.35), inset 0 0 8px rgba(255,255,255,0.2);
    will-change: transform;
  }
  .curtain-panel.left { left: 0; transform: translateX(0); }
  .curtain-panel.right { right: 0; transform: translateX(0); }
  .open-left { animation: curtain-open-left 600ms ease-in-out forwards; }
  .open-right { animation: curtain-open-right 600ms ease-in-out forwards; }

  /* Optional top drape */
  .curtain-drape {
    position: absolute;
    left: 0; right: 0; top: 0;
    height: 110px;
    background-image:
      radial-gradient(120% 140% at 50% -10%, rgba(0,0,0,0.55), rgba(0,0,0,0.1) 45%, transparent 60%),
      linear-gradient(180deg, #f0d98a 0%, #d4b24a 40%, #b48a22 70%, #8f6b19 100%);
    background-blend-mode: multiply;
    box-shadow: 0 8px 24px rgba(0,0,0,0.4), inset 0 -10px 20px rgba(0,0,0,0.35);
    clip-path: ellipse(120% 80% at 50% 0%);
    pointer-events: none;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

@keyframes dot-pulse {
  0%, 80%, 100% { transform: scale(0.7); opacity: .6; }
  40% { transform: scale(1); opacity: 1; }
}

@keyframes splash-in {
  from { opacity: 0; transform: translateY(8px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes curtain-open-left {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}
@keyframes curtain-open-right {
  from { transform: translateX(0); }
  to { transform: translateX(100%); }
}

@keyframes curtain-fade {
  0% { opacity: 1; }
  70% { opacity: 0.25; }
  100% { opacity: 0; }
}
